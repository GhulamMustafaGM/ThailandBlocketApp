CREATE TABLE advertisement (id INT AUTO_INCREMENT, add_title VARCHAR(255) NOT NULL, item_category_id INT NOT NULL, user_name VARCHAR(45), user_email VARCHAR(45), user_password VARCHAR(45), contact_phone VARCHAR(45), created_at DATETIME, updated_at DATETIME, city_id INT NOT NULL, description TEXT, price VARCHAR(255), status TINYINT DEFAULT '0', INDEX city_id_idx (city_id), INDEX item_category_id_idx (item_category_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE advertisment_details (id INT AUTO_INCREMENT, key_name VARCHAR(255) NOT NULL, key_value VARCHAR(45), advertisement_id INT NOT NULL, INDEX advertisement_id_idx (advertisement_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE advertisment_image (id INT AUTO_INCREMENT, image_path VARCHAR(255) NOT NULL, advertisement_id INT NOT NULL, INDEX advertisement_id_idx (advertisement_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE car_brand (id INT AUTO_INCREMENT, name VARCHAR(45) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE car_model (id INT AUTO_INCREMENT, name VARCHAR(45) NOT NULL, car_brand_id INT NOT NULL, INDEX car_brand_id_idx (car_brand_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE category_group (id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME, updated_at DATETIME, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE city (id INT AUTO_INCREMENT, name VARCHAR(255), created_at DATETIME, updated_at DATETIME, region_id INT NOT NULL, INDEX region_id_idx (region_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE details (id INT AUTO_INCREMENT, car_brand TINYINT DEFAULT '0', milage TINYINT DEFAULT '0', power TINYINT DEFAULT '0', item_category_id INT NOT NULL, INDEX item_category_id_idx (item_category_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE item_category (id INT AUTO_INCREMENT, category_group_id INT NOT NULL, name VARCHAR(255) NOT NULL, associated_form VARCHAR(255) DEFAULT 'Default' NOT NULL, created_at DATETIME, updated_at DATETIME, INDEX category_group_id_idx (category_group_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE milage (id INT AUTO_INCREMENT, name VARCHAR(45), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE power (id INT AUTO_INCREMENT, name VARCHAR(45) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE region (id INT AUTO_INCREMENT, name VARCHAR(45) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE type (id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE user (id INT AUTO_INCREMENT, email VARCHAR(255) NOT NULL, password VARCHAR(255), is_admin INT DEFAULT '0' NOT NULL, created_at DATETIME, updated_at DATETIME, PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE advertisement ADD CONSTRAINT advertisement_item_category_id_item_category_id FOREIGN KEY (item_category_id) REFERENCES item_category(id);
ALTER TABLE advertisement ADD CONSTRAINT advertisement_city_id_city_id FOREIGN KEY (city_id) REFERENCES city(id);
ALTER TABLE advertisment_details ADD CONSTRAINT advertisment_details_advertisement_id_advertisement_id FOREIGN KEY (advertisement_id) REFERENCES advertisement(id);
ALTER TABLE advertisment_image ADD CONSTRAINT advertisment_image_advertisement_id_advertisement_id FOREIGN KEY (advertisement_id) REFERENCES advertisement(id);
ALTER TABLE car_model ADD CONSTRAINT car_model_car_brand_id_car_brand_id FOREIGN KEY (car_brand_id) REFERENCES car_brand(id);
ALTER TABLE city ADD CONSTRAINT city_region_id_region_id FOREIGN KEY (region_id) REFERENCES region(id);
ALTER TABLE details ADD CONSTRAINT details_item_category_id_item_category_id FOREIGN KEY (item_category_id) REFERENCES item_category(id);
ALTER TABLE item_category ADD CONSTRAINT item_category_category_group_id_category_group_id FOREIGN KEY (category_group_id) REFERENCES category_group(id);
